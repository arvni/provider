import{r as F,R as P,j as e,a as n,d as R,b as L}from"./app-1b187364.js";import{R as A,G as k}from"./recaptcha-wrapper-29221a98.js";import{r as m}from"./routes-c9e5dec8.js";import{l as v}from"./validate-8ce2bdb9.js";import{a as E}from"./api-9e8885d4.js";import{P as j}from"./PasswordField-91fee49f.js";import{B}from"./Box-f3cc3654.js";import{G as i}from"./Grid-4051dd83.js";import{T as S}from"./TextField-07654f81.js";import{F as T}from"./OutlinedInput-e50361c6.js";import{F as q}from"./FormControlLabel-f404fd04.js";import{C as G}from"./Checkbox-b9fa9deb.js";import{S as D}from"./Stack-e8abadc7.js";import{L as H}from"./LoadingButton-2c6eb5df.js";import{A as I}from"./Alert-166fd4ef.js";import"./ButtonBase-60f45c82.js";import"./Modal-f5c05db1.js";import"./InputAdornment-3aab5f41.js";import"./Typography-83edb964.js";import"./IconButton-e4774df1.js";import"./useControlled-9027e4f4.js";import"./Button-1e943fe0.js";import"./CircularProgress-4758e4dd.js";import"./Close-3a101d30.js";const z=()=>{const{data:t,setData:d,submit:h,processing:l,errors:o,setError:u,clearErrors:f,reset:g}=E({email:"",password:"",remember:!1,captcha:""},m.login.link);F.useEffect(()=>()=>{g("password","captcha")},[l]);const c=P.createRef(),w=r=>{var a;r.preventDefault(),f(),(a=c.current)==null||a.reset(),v(t,u)&&h()},p=r=>s(r.target.name,r.target.value),s=(r,a)=>d(y=>({...y,[r]:a})),x=r=>s("captcha",r??""),b=()=>s("captcha",""),C=(r,a)=>s("remember",a);return e(B,{component:"form",onSubmit:w,method:"post",action:route("login"),children:n(i,{container:!0,direction:"column",spacing:2,alignItems:"center",justifyContent:"center",children:[e(i,{item:!0,xs:12,sx:{width:"100%"},children:e(S,{onChange:p,name:"email",value:t.email,helperText:o.email??"",error:o.hasOwnProperty("email"),type:"email",label:"Email",autoComplete:"username",required:!0,inputProps:{inputMode:"email"},fullWidth:!0})}),e(i,{item:!0,xs:12,sx:{width:"100%"},children:e(j,{name:"password",value:t.password,helperText:o.password??"",error:o.hasOwnProperty("password"),type:"password",label:"Password",autoComplete:"password",required:!0,onChange:p,fullwidth:!0})}),n(i,{item:!0,xs:12,sx:{width:"100%"},children:[e(A,{ref:c,sitekey:"6Lf-ICYpAAAAAHzBmitPs2nRqrzBknYq1g7U69hm",onChange:x,onExpired:b}),o.captcha&&e(T,{error:!!o.captcha,children:o.captcha})]}),e(i,{item:!0,xs:12,sx:{width:"100%"},children:e(q,{onChange:C,control:e(G,{defaultChecked:t.remember,name:"remember"}),label:"Remember Password"})}),e(i,{item:!0,sx:{width:"100%"},children:n(D,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%"},children:[e(R,{href:m.forgetPassword.link,style:{textDecoration:"none",fontFamily:'"Roboto","Helvetica","Arial",sans-serif'},children:m.forgetPassword.label}),e(H,{loading:l,type:"submit",variant:"contained",children:"Login"})]})})]})})},ce=({status:t})=>n(k,{children:[e(L,{title:"Login"}),t&&e(I,{severity:"success",children:t}),e(z,{})]});export{ce as default};
