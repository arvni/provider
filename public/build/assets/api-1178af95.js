import{W as m,r as p,y as b,c as C}from"./app-89f793d1.js";const E=(n,s)=>{const{data:e,setData:t,post:r,processing:i,setError:o,errors:a,clearErrors:u,reset:d,wasSuccessful:h}=m(n);return{data:e,post:r,setData:t,processing:i,submit:c=>{typeof s=="string"&&r(s,c)},setError:o,errors:a,clearErrors:u,handleChange:c=>{c&&typeof c!="string"&&t(c.target.name,c.target.type=="checkbox"?c.target.checked:c.target.value)},reset:d,wasSuccessful:h}},w=n=>{const[s,e]=p.useState(0);return{progress:s,upload:i=>{let o=new FormData;return o.set("file",i),C.post(n,o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>e(a.progress??0)})},resetProgress:()=>e(0)}},O=()=>{const{processing:n,get:s}=m();return{processing:n,get:t=>s(t)}},R=(n,s=[])=>{const[e,t]=p.useState(n),r=p.useRef(!0),[i,o]=p.useState(!1),a=()=>b.reload({only:s,data:e,onStart:c,onFinish:y});p.useEffect(()=>{if(r.current){r.current=!1;return}a()},[e]);const u=(g,l)=>{t(f=>({...f,page:l}))},d=g=>{t(l=>({...l,pageSize:g}))},h=g=>{const{name:l,value:f}=g.target;let D=F(l,f,(e==null?void 0:e.filter)??{});t(v=>({...v,page:1,filter:D}))},P=(g,l)=>{t(f=>({...f,orderBy:{field:g,type:l}}))},S=g=>{b.visit(g,{onStart:c,onFinish:y})},c=()=>{o(!0)},y=()=>{o(!1)};return{processing:i,reload:a,get:S,data:e,setData:t,onPageChange:u,onPageSizeChange:d,onFilterChange:h,onOrderByChange:P}},U=()=>{const[n,s]=p.useState(!1);async function e(t,r){return s(!0),r&&(t+="?"+new URLSearchParams(r).toString()),C.get(t).then(({data:i})=>(s(!1),i))}return{getData:e,loading:n}},j=()=>{const{post:n,processing:s}=m({_method:"delete"});return{submit:n,processing:s}};function F(n,s,e){const t={...e},r=n.split("."),i=r.pop();let o=t;for(let a=r.length-1;a>=0;a--)if(r[a]){const u=r[a];o[u]||(o[u]={}),o=o[u]}return i&&(o[i]=s),t}export{E as a,R as b,j as c,O as d,w as e,U as u};
