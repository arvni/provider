import{r as b,j as t,a as z,F as O}from"./app-8d52f51b.js";import{d as U}from"./Add-ca3e47c3.js";import{P as H}from"./PageHeader-b07922b9.js";import M from"./AddForm-1059f37d.js";import{u as N}from"./api-ae86b069.js";import{r as _}from"./routes-c9e5dec8.js";import{A as j}from"./AdminLayout-72c39543.js";import{A as q}from"./Alert-bc745686.js";import{B as J,a as K,b as I}from"./Button-8cbba6d3.js";import{g as Q,a as X,s as Y,_ as g,b as Z,u as w,c as S,d as oo,e as l,f as ro,P as to,B as io}from"./Modal-54129959.js";import{c as D,L as ao}from"./OutlinedInput-6fe70e23.js";import{L as F,a as k}from"./ListItem-02d28df5.js";import{L as y}from"./ListItemAvatar-6623829d.js";import{L as V}from"./ListItemText-6348469b.js";import{I as no}from"./IconButton-06508ab2.js";import{E as eo}from"./Edit-91193451.js";import{C as lo}from"./CircularProgress-64102110.js";import"./useControlled-c0dbec42.js";import"./ButtonBase-c5fb3adc.js";import"./Actions-954faa47.js";import"./Stack-afb354de.js";import"./Grid-227526a7.js";import"./Typography-117e9b47.js";import"./validate-45498d25.js";import"./DialogTitle-0a6c9e9a.js";import"./Box-eda8d922.js";import"./TextField-ced4731f.js";import"./Delete-1e22dba7.js";import"./LoadingButton-a6d6e79d.js";import"./Save-c19d0d15.js";import"./AuthenticatedLayout-50ca9b8d.js";import"./Divider-827bfd31.js";import"./dividerClasses-5336fea1.js";import"./MenuItem-0037843b.js";import"./listItemTextClasses-5dc35ea7.js";import"./PasswordField-2541b4e0.js";import"./InputAdornment-f15959ad.js";import"./Close-02ebfb13.js";function so(r){return b.Children.toArray(r).filter(o=>b.isValidElement(o))}function uo(r){return X("MuiButtonGroup",r)}const po=Q("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),e=po,co=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],mo=(r,o)=>{const{ownerState:n}=r;return[{[`& .${e.grouped}`]:o.grouped},{[`& .${e.grouped}`]:o[`grouped${l(n.orientation)}`]},{[`& .${e.grouped}`]:o[`grouped${l(n.variant)}`]},{[`& .${e.grouped}`]:o[`grouped${l(n.variant)}${l(n.orientation)}`]},{[`& .${e.grouped}`]:o[`grouped${l(n.variant)}${l(n.color)}`]},{[`& .${e.firstButton}`]:o.firstButton},{[`& .${e.lastButton}`]:o.lastButton},{[`& .${e.middleButton}`]:o.middleButton},o.root,o[n.variant],n.disableElevation===!0&&o.disableElevation,n.fullWidth&&o.fullWidth,n.orientation==="vertical"&&o.vertical]},go=r=>{const{classes:o,color:n,disabled:s,disableElevation:v,fullWidth:$,orientation:p,variant:c}=r,f={root:["root",c,p==="vertical"&&"vertical",$&&"fullWidth",v&&"disableElevation"],grouped:["grouped",`grouped${l(p)}`,`grouped${l(c)}`,`grouped${l(c)}${l(p)}`,`grouped${l(c)}${l(n)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ro(f,uo,o)},bo=Y("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:mo})(({theme:r,ownerState:o})=>g({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},o.variant==="contained"&&{boxShadow:(r.vars||r).shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},o.orientation==="vertical"&&{flexDirection:"column"},{[`& .${e.grouped}`]:g({minWidth:40,"&:hover":g({},o.variant==="contained"&&{boxShadow:"none"})},o.variant==="contained"&&{boxShadow:"none"}),[`& .${e.firstButton},& .${e.middleButton}`]:g({},o.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},o.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},o.variant==="text"&&o.orientation==="horizontal"&&{borderRight:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${e.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},o.variant==="text"&&o.orientation==="vertical"&&{borderBottom:r.vars?`1px solid rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${e.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},o.variant==="text"&&o.color!=="inherit"&&{borderColor:r.vars?`rgba(${r.vars.palette[o.color].mainChannel} / 0.5)`:Z(r.palette[o.color].main,.5)},o.variant==="outlined"&&o.orientation==="horizontal"&&{borderRightColor:"transparent"},o.variant==="outlined"&&o.orientation==="vertical"&&{borderBottomColor:"transparent"},o.variant==="contained"&&o.orientation==="horizontal"&&{borderRight:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${e.disabled}`]:{borderRight:`1px solid ${(r.vars||r).palette.action.disabled}`}},o.variant==="contained"&&o.orientation==="vertical"&&{borderBottom:`1px solid ${(r.vars||r).palette.grey[400]}`,[`&.${e.disabled}`]:{borderBottom:`1px solid ${(r.vars||r).palette.action.disabled}`}},o.variant==="contained"&&o.color!=="inherit"&&{borderColor:(r.vars||r).palette[o.color].dark},{"&:hover":g({},o.variant==="outlined"&&o.orientation==="horizontal"&&{borderRightColor:"currentColor"},o.variant==="outlined"&&o.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${e.lastButton},& .${e.middleButton}`]:g({},o.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},o.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},o.variant==="outlined"&&o.orientation==="horizontal"&&{marginLeft:-1},o.variant==="outlined"&&o.orientation==="vertical"&&{marginTop:-1})})),ho=b.forwardRef(function(o,n){const s=w({props:o,name:"MuiButtonGroup"}),{children:v,className:$,color:p="primary",component:c="div",disabled:f=!1,disableElevation:R=!1,disableFocusRipple:B=!1,disableRipple:C=!1,fullWidth:x=!1,orientation:E="horizontal",size:L="medium",variant:A="outlined"}=s,P=S(s,co),G=g({},s,{color:p,component:c,disabled:f,disableElevation:R,disableFocusRipple:B,disableRipple:C,fullWidth:x,orientation:E,size:L,variant:A}),m=go(G),T=b.useMemo(()=>({className:m.grouped,color:p,disabled:f,disableElevation:R,disableFocusRipple:B,disableRipple:C,fullWidth:x,size:L,variant:A}),[p,f,R,B,C,x,L,A,m.grouped]),i=so(v),a=i.length,d=u=>{const h=u===0,W=u===a-1;return h&&W?"":h?m.firstButton:W?m.lastButton:m.middleButton};return t(bo,g({as:c,role:"group",className:oo(m.root,$),ref:n,ownerState:G},P,{children:t(J.Provider,{value:T,children:i.map((u,h)=>t(K.Provider,{value:d(h),children:u},h))})}))}),vo=ho,fo=D(t("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Bo=D(t("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),ar=({auth:r,consents:o,status:n})=>{const[s,v]=b.useState(o),{loading:$,getData:p}=N(),[c,f]=b.useState(!1),[R,B]=b.useState({order:void 0,title:"",body:"",questions:[]}),[C,x]=b.useState(!1),E=()=>x(!0),L=()=>{x(!1),A()},A=()=>{B({order:void 0,title:"",body:"",questions:[]})},P=i=>()=>{i&&p(_.consents.show.link(i)).then(a=>B(a.data)).then(E)},G=i=>()=>{v(a=>{let d=T(i);if(d>0){let u=a[d-1];a[d-1]={...a[d],order:d-1},a[d]={...u,order:d}}return a})},m=i=>()=>{let a=T(i);console.log(a),v(d=>{if(a<d.length-1){let u=d[a+1];d[a+1]={...d[a],order:a+1},d[a]={...u,order:a}}return d.sort((u,h)=>(u.order??0)-(h.order??0))})},T=i=>s.findIndex(a=>a.id==i);return z(j,{user:r.user,header:"Consents",children:[n&&t(q,{children:n}),t(H,{title:"Consents",actions:[t(I,{variant:"contained",onClick:E,color:"success",startIcon:t(U,{}),children:"Add"})]}),C&&t(M,{open:C,onClose:L,defaultValue:R}),t(to,{sx:{mt:"3em",p:"1rem"},children:z(ao,{children:[z(F,{children:[t(y,{children:"#"}),t(V,{children:"Title"}),t(k,{children:"Action"})]}),s.length?t(O,{children:s.map(i=>z(F,{children:[c?t(y,{sx:{cursor:"pointer"},children:z(vo,{orientation:"vertical","aria-label":"vertical contained button group",variant:"text",children:[t(I,{onClick:G(i.id),disabled:!((i==null?void 0:i.order)??0>0),children:t(Bo,{})}),t(I,{onClick:m(i.id),disabled:i.order?(i==null?void 0:i.order)<s.length-1:!0,children:t(fo,{})})]})}):null,t(V,{children:i.title}),t(k,{children:t(no,{onClick:P(i.id),children:t(eo,{})})})]},i.id))}):t(F,{children:t(V,{children:"There is no Data for Show"})})]})}),t(io,{open:$,children:t(lo,{})})]})};export{ar as default};
