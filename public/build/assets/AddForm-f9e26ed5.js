import{a as d,j as e,F as H}from"./app-89f793d1.js";import{a as J}from"./api-1178af95.js";import{r as u}from"./routes-c9e5dec8.js";import{P as k}from"./PasswordField-9853e431.js";import{c as B}from"./countries-daec81e2.js";import{D as K,a as Q,b as R}from"./DialogTitle-c71abf45.js";import{B as X}from"./Box-aee122b3.js";import{G as i}from"./Grid-d9537aa5.js";import{T as n}from"./TextField-d8dbd712.js";import{D as E}from"./Divider-a5afc4e7.js";import{A as M}from"./Autocomplete-d0631f46.js";import{D as Y}from"./DialogActions-1a0e4013.js";import{b as Z}from"./Button-ed715502.js";import{L as $}from"./LoadingButton-d4d1b356.js";import{S as V}from"./Save-1740bb6e.js";import"./OutlinedInput-5989b9e1.js";import"./Modal-2f4db1df.js";import"./ButtonBase-da1341a5.js";import"./InputAdornment-bccac95c.js";import"./Typography-aa107a64.js";import"./IconButton-d32145eb.js";import"./useControlled-9a9c2b20.js";import"./dividerClasses-2c6d5095.js";import"./Close-d46d9bbf.js";import"./Popper-b54b6c7a.js";import"./CircularProgress-85b84815.js";const Oe=({open:j,onClose:U,defaultValue:o})=>{var y,C,w,T,v,W,P,q,O,A,N,S,D,F,I,_;const{data:t,submit:z,processing:g,handleChange:m,errors:r,setError:ee,setData:b,reset:G,clearErrors:L}=J({...o,_method:o.id?"put":"post"},o.id?u.users.update.link(o.id):u.users.add.link),c=()=>{U(),G()},x=l=>{l.preventDefault(),L(),z({onSuccess:c})},a=l=>h=>{b(s=>({...s,meta:{...s.meta,[l]:{...s.meta[l]??{},[h.target.name]:h.target.value}}}))},f=l=>(h,s)=>b(p=>({...p,meta:{...p.meta,[l]:{...p.meta[l]??{},country:s??""}}}));return d(K,{open:j,onClose:c,keepMounted:!0,fullWidth:!0,maxWidth:"lg",children:[e(Q,{children:t.id?"Edit User":"Add User"}),e(R,{children:e(X,{component:"form",onSubmit:x,sx:{pt:"1em"},action:t.id?u.sampleTypes.update.link(t.id):u.sampleTypes.add.link,children:d(i,{container:!0,spacing:2,children:[e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"name",value:t.name??"",helperText:r.name,error:!!r.name,onChange:m,label:"Name",required:!0})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"userName",value:t.userName??"",helperText:r.userName,error:!!r.userName,onChange:m,label:"UserName",required:!0})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"email",value:t.email??"",helperText:r.email,error:!!r.email,onChange:m,label:"Email",required:!0})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"mobile",value:t.mobile??"",helperText:r.mobile,error:!!r.mobile,onChange:m,label:"Mobile",required:!0})}),!o.id&&d(H,{children:[e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(k,{name:"password",value:t.password??"",helperText:r.password,error:!!r.password,onChange:m,label:"Password",fullwidth:!0,required:!0})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(k,{name:"password_confirmation",value:t.password_confirmation??"",helperText:r.password_confirmation,error:!!r.password_confirmation,onChange:m,fullwidth:!0,label:"Password Confirmation",required:!0})})]}),e(i,{item:!0,xs:12,children:e(E,{children:e("strong",{children:"Contact Information"})})}),e(i,{item:!0,xs:12,children:e(n,{multiline:!0,rows:2,fullWidth:!0,name:"address",value:(C=(y=t==null?void 0:t.meta)==null?void 0:y.contact)==null?void 0:C.address,helperText:r?r["meta.contact.address"]:"",error:r.hasOwnProperty("meta.contact.address"),onChange:a("contact"),label:"Address"})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"city",value:(T=(w=t==null?void 0:t.meta)==null?void 0:w.contact)==null?void 0:T.city,helperText:r["meta.contact.city"],error:r.hasOwnProperty("meta.contact.city"),onChange:a("contact"),label:"City"})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(M,{options:B.map(l=>l.label),value:((W=(v=t==null?void 0:t.meta)==null?void 0:v.contact)==null?void 0:W.country)??"",onChange:f("contact"),renderInput:l=>e(n,{...l,name:"country",fullWidth:!0,label:"Country",helperText:r["meta.contact.country"],error:r.hasOwnProperty("meta.contact.country")})})}),e(i,{item:!0,xs:12,children:e(E,{children:e("strong",{children:" Billing Information"})})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"name",value:((q=(P=t.meta)==null?void 0:P.billing)==null?void 0:q.name)??"",helperText:r["meta.billing.name"],error:r.hasOwnProperty("meta.billing.name"),onChange:a("billing"),label:"Name",required:!0})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"email",value:((A=(O=t.meta)==null?void 0:O.billing)==null?void 0:A.email)??"",helperText:r["meta.billing.email"],error:r.hasOwnProperty("meta.billing.email"),onChange:a("billing"),label:"Email",required:!0})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"phone",value:t.meta.billing.phone??"",helperText:r["meta.billing.phone"],error:r.hasOwnProperty("meta.billing.phone"),onChange:a("billing"),label:"Phone",required:!0})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(M,{options:B.map(l=>l.label),value:((S=(N=t==null?void 0:t.meta)==null?void 0:N.billing)==null?void 0:S.country)??"",onChange:f("billing"),renderInput:l=>e(n,{...l,name:"country",fullWidth:!0,label:"Country",helperText:r["meta.billing.country"],error:r.hasOwnProperty("meta.billing.country")})})}),e(i,{item:!0,xs:12,sm:6,md:4,lg:3,children:e(n,{fullWidth:!0,name:"city",value:(F=(D=t==null?void 0:t.meta)==null?void 0:D.billing)==null?void 0:F.city,helperText:r["meta.contact.city"],error:r.hasOwnProperty("meta.billing.city"),onChange:a("billing"),label:"City"})}),e(i,{item:!0,xs:12,children:e(n,{multiline:!0,rows:2,fullWidth:!0,name:"address",value:(_=(I=t==null?void 0:t.meta)==null?void 0:I.billing)==null?void 0:_.address,helperText:r["meta.billing.address"],error:r.hasOwnProperty("meta.billing.address"),onChange:a("billing"),label:"Address"})})]})})}),d(Y,{children:[e(Z,{onClick:c,disabled:g,variant:"text",size:"large",children:"Cancel"}),e($,{onClick:x,loading:g,size:"medium",variant:"contained",type:"submit",startIcon:e(V,{}),children:"Submit"})]})]})};export{Oe as default};
