import{j as r,a as W}from"./app-468dc84b.js";import{d as Y}from"./Add-18533ee1.js";import{P as Z}from"./PageHeader-f2e74c63.js";import{b as $}from"./api-a48cce3e.js";import{r as i}from"./routes-c9e5dec8.js";import{T as ee}from"./TableLayout-8195590a.js";import{C as te}from"./ClientLayout-fdc9deed.js";import{S as re}from"./Stack-6d196264.js";import{I as q}from"./IconButton-9a3de394.js";import{c as ie}from"./OutlinedInput-f8af1941.js";import{E as oe}from"./Edit-aefeff67.js";import{A as le}from"./Alert-e34380e1.js";import{b as ne}from"./Button-132598f8.js";import{P as ae,B as se}from"./Modal-784d8689.js";import{C as pe}from"./CircularProgress-a38e80be.js";import"./useControlled-b95c8f2a.js";import"./ButtonBase-d47d007c.js";import"./Actions-9d84c455.js";import"./Grid-0f88e4d2.js";import"./Typography-fb8ff41b.js";import"./RenderFormField-18a270b4.js";import"./PasswordField-a64fd0b8.js";import"./InputAdornment-a738385f.js";import"./Autocomplete-1e00bf3d.js";import"./TextField-f525cea2.js";import"./Close-e54d3ac7.js";import"./Popper-bad574ff.js";import"./MenuItem-95aa6b0c.js";import"./dividerClasses-ec13e2f8.js";import"./listItemTextClasses-d306ad49.js";import"./FormControlLabel-6605efd8.js";import"./Checkbox-06649eb6.js";import"./TableRow-85886c51.js";import"./TableHead-0b8b7491.js";import"./AuthenticatedLayout-26dfbbc9.js";import"./Divider-faa23c14.js";import"./ListItemText-6355ef3f.js";import"./validate-1e59ab84.js";import"./DialogTitle-a60b1fca.js";import"./Box-d6830782.js";import"./LoadingButton-32a80b82.js";const me=ie(r("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye"),Ze=({auth:L,orders:{data:M,...N},status:l,request:H})=>{var p,m,f,d,u,c,_,b,h,y,g,v,x,P,C,I,k,S,B,D,z,A,R,F,T,j,E,O;const{data:e,processing:n,reload:V,onFilterChange:X,onPageChange:w,onPageSizeChange:G,onOrderByChange:J,get:a}=$(H,["orders"]),K=t=>{t.preventDefault(),a(i.orders.add.link)},s=t=>o=>{o.preventDefault(),a(t)},Q=[{field:"id",title:"ID",type:"text",sortable:!0,filter:{name:"id",label:"ID",type:"number",value:(p=e==null?void 0:e.filter)==null?void 0:p.id,inputProps:{min:1}}},{field:"bion_id",title:"Bion ID",type:"text",sortable:!0,filter:{name:"bion_id",label:"Bion ID",type:"text",value:(m=e==null?void 0:e.filter)==null?void 0:m.bion_id}},{field:"test_method",title:"Analysis requested",type:"text",sortable:!0,render:t=>t.test_method.map(o=>o.name).join(", ")},{field:"status",title:"Status",type:"text",sortable:!0,filter:{name:"status",label:"Status",type:"select",options:[{value:"sent",label:"Sent"},{value:"received",label:"Received"},{value:"requested",label:"Requested"}],value:(f=e==null?void 0:e.filter)==null?void 0:f.status}},{field:"created_at",title:"Created At",type:"text",sortable:!0,render:t=>new Date(t.created_at).toLocaleString(),filter:[{name:"created_at.from",label:"From",type:"date",value:(u=(d=e==null?void 0:e.filter)==null?void 0:d.created_at)==null?void 0:u.from,inputProps:{max:(_=(c=e==null?void 0:e.filter)==null?void 0:c.created_at)==null?void 0:_.to}},{name:"created_at.to",label:"To",type:"date",value:(h=(b=e==null?void 0:e.filter)==null?void 0:b.created_at)==null?void 0:h.to,inputProps:{min:(g=(y=e==null?void 0:e.filter)==null?void 0:y.created_at)==null?void 0:g.from}}]},{field:"patient_full_name",title:"Patient Name",type:"text",sortable:!0,filter:{name:"patient_full_name",label:"Patient Name",type:"text",value:(v=e==null?void 0:e.filter)==null?void 0:v.patient_full_name}},{field:"patient_date_of_birth",title:"Patient DOB",type:"string",sortable:!0,filter:[{name:"patient_date_of_birth.from",label:"From",type:"date",value:(P=(x=e==null?void 0:e.filter)==null?void 0:x.patient_date_of_birth)==null?void 0:P.from,inputProps:{max:(I=(C=e==null?void 0:e.filter)==null?void 0:C.patient_date_of_birth)==null?void 0:I.to}},{name:"patient_date_of_birth.to",label:"To",type:"date",value:(S=(k=e==null?void 0:e.filter)==null?void 0:k.patient_date_of_birth)==null?void 0:S.to,inputProps:{min:(D=(B=e==null?void 0:e.filter)==null?void 0:B.patient_date_of_birth)==null?void 0:D.from}}]},{field:"sent_at",title:"Sent At",type:"text",sortable:!0,filter:[{name:"sent_at.from",label:"From",type:"date",value:(A=(z=e==null?void 0:e.filter)==null?void 0:z.sent_at)==null?void 0:A.from,inputProps:{max:(F=(R=e==null?void 0:e.filter)==null?void 0:R.sent_at)==null?void 0:F.to}},{name:"sent_at.to",label:"To",type:"date",value:(j=(T=e==null?void 0:e.filter)==null?void 0:T.sent_at)==null?void 0:j.to,inputProps:{min:(O=(E=e==null?void 0:e.filter)==null?void 0:E.sent_at)==null?void 0:O.from}}]},{field:"id",title:"#",type:"actions",render:t=>r(re,{direction:"row",spacing:1,children:t.status!=="pending"?r(q,{href:i.orders.show.link(t.id),color:"success",onClick:s(i.orders.show.link(t.id)),children:r(me,{})}):r(q,{href:i.orders.edit.link(t.id,t.step),color:"warning",onClick:s(i.orders.edit.link(t.id,t.step)),children:r(oe,{})})})}],U=t=>{t.preventDefault(),V()};return W(te,{user:L.user,header:"Orders",children:[l&&r(le,{children:l}),r(Z,{title:"Orders",actions:r(ne,{variant:"contained",onClick:K,href:i.orders.add.link,color:"success",startIcon:r(Y,{}),children:"Add"})}),r(ae,{sx:{mt:"3em",p:"1rem",overflowX:"auto"},children:r(ee,{columns:Q,data:M,onPageChange:w,pagination:N,onFilterChange:X,onFilter:U,filter:!0,onOrderByChange:J,loading:n,tableModel:{orderBy:(e==null?void 0:e.orderBy)??{field:"id",type:"asc"},page:(e==null?void 0:e.page)??1,filter:e==null?void 0:e.filter},pageSize:{defaultValue:(e==null?void 0:e.pageSize)??10,onChange:G}})}),r(se,{open:n,sx:{zIndex:t=>t.zIndex.modal+10},children:r(pe,{})})]})};export{Ze as default};
