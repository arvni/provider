import{j as e,a as h}from"./app-1b187364.js";import{B as s}from"./Box-f3cc3654.js";import{G as i}from"./Grid-4051dd83.js";import{T as g}from"./Typography-83edb964.js";import{A as x}from"./Alert-166fd4ef.js";import{T as f}from"./TextField-07654f81.js";import{M as I}from"./MenuItem-457f24cc.js";import{I as w}from"./IconButton-e4774df1.js";import{D as A}from"./Delete-a3a9f09e.js";import{S}from"./Stack-e8abadc7.js";import{b as p}from"./Button-1e943fe0.js";import"./Modal-f5c05db1.js";import"./OutlinedInput-e50361c6.js";import"./ButtonBase-60f45c82.js";import"./Close-3a101d30.js";import"./useControlled-9027e4f4.js";import"./dividerClasses-247754d0.js";import"./listItemTextClasses-78a5e60e.js";const L=({samples:l,onChange:m,onSubmit:v,sampleTypes:c,errors:d})=>{const u=t=>r=>{let n=[...l];n[t]?n[t]={...l[t],[r.target.name]:r.target.name==="sample_type"?c.find(a=>a.id+""==r.target.value):r.target.value}:n[t]={[r.target.name]:r.target.name==="sample_type"?c.find(a=>a.id+""==r.target.value):r.target.value},m("samples",n)},D=()=>{let t=[...l];t.push({}),m("samples",t)},b=t=>()=>{let r=[...l];r.splice(t,1),m("samples",r)};return e(s,{component:"form",onSubmit:t=>{t.stopPropagation(),t.preventDefault(),v()},children:h(i,{container:!0,children:[h(i,{item:!0,xs:12,children:[e(g,{fontWeight:"900",fontSize:"larger",sx:{my:4},children:"Diagnostics Analysis"}),e(g,{fontWeight:"900",sx:{my:1},children:"Document material details"}),d.samples&&e(x,{severity:"error",children:d.samples}),l.map((t,r)=>{var n,a;return e(s,{sx:{width:"100%",background:"#c0c0c0",padding:2,mb:2},children:h(i,{container:!0,spacing:2,children:[e(i,{item:!0,xs:12,md:3,children:e(f,{select:!0,fullWidth:!0,onChange:u(r),name:"sample_type",value:(n=t==null?void 0:t.sample_type)==null?void 0:n.id,label:"Sample Type",required:!0,children:c==null?void 0:c.map(o=>e(I,{value:o.id,children:o==null?void 0:o.name},o==null?void 0:o.id))})}),e(i,{item:!0,xs:12,md:3,children:e(f,{fullWidth:!0,onChange:u(r),value:t==null?void 0:t.sampleId,name:"sampleId",label:"Sample ID",required:(a=t==null?void 0:t.sample_type)==null?void 0:a.sampleIdRequired})}),e(i,{item:!0,xs:12,md:4,children:e(f,{fullWidth:!0,onChange:u(r),type:"date",name:"collectionDate",inputProps:{style:{textAlign:"right"}},error:d.hasOwnProperty("samples."+r+".collectionDate"),helperText:d.hasOwnProperty("samples."+r+".collectionDate")?d["samples."+r+".collectionDate"]:"",value:t==null?void 0:t.collectionDate,label:"Collection Date",required:!0})}),e(i,{item:!0,xs:12,md:2,children:e(w,{color:"error",onClick:b(r),children:e(A,{})})})]})},r)})]}),e(i,{item:!0,xs:12,mt:2,children:e(S,{alignItems:"flex-end",children:e(p,{variant:"contained",onClick:D,children:"Add Sample Material"})})}),e(i,{item:!0,xs:12,mt:2,children:e(S,{alignItems:"flex-end",children:e(p,{variant:"contained",type:"submit",children:"Save & continue"})})})]})})};export{L as default};
