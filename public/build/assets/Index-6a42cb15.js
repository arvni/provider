import{j as r,a as W}from"./app-8d52f51b.js";import{d as Y}from"./Add-ca3e47c3.js";import{P as Z}from"./PageHeader-b07922b9.js";import{b as $}from"./api-ae86b069.js";import{r as i}from"./routes-c9e5dec8.js";import{T as ee}from"./TableLayout-9076d8b7.js";import{C as te}from"./ClientLayout-42b556ed.js";import{S as re}from"./Stack-afb354de.js";import{I as q}from"./IconButton-06508ab2.js";import{c as ie}from"./OutlinedInput-6fe70e23.js";import{E as oe}from"./Edit-91193451.js";import{A as le}from"./Alert-bc745686.js";import{b as ne}from"./Button-8cbba6d3.js";import{P as ae,B as se}from"./Modal-54129959.js";import{C as pe}from"./CircularProgress-64102110.js";import"./useControlled-c0dbec42.js";import"./ButtonBase-c5fb3adc.js";import"./Actions-954faa47.js";import"./Grid-227526a7.js";import"./Typography-117e9b47.js";import"./RenderFormField-67c27216.js";import"./PasswordField-2541b4e0.js";import"./InputAdornment-f15959ad.js";import"./Autocomplete-3ac3d9f4.js";import"./TextField-ced4731f.js";import"./Close-02ebfb13.js";import"./Popper-ef237435.js";import"./MenuItem-0037843b.js";import"./dividerClasses-5336fea1.js";import"./listItemTextClasses-5dc35ea7.js";import"./FormControlLabel-45625e0d.js";import"./Checkbox-7352c5dc.js";import"./TableRow-eefce377.js";import"./TableHead-a0d416a3.js";import"./AuthenticatedLayout-50ca9b8d.js";import"./Divider-827bfd31.js";import"./ListItemText-6348469b.js";import"./validate-45498d25.js";import"./DialogTitle-0a6c9e9a.js";import"./Box-eda8d922.js";import"./LoadingButton-a6d6e79d.js";const me=ie(r("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye"),Ze=({auth:L,orders:{data:M,...N},status:l,request:H})=>{var p,m,f,d,u,c,_,b,h,y,g,v,x,P,C,I,k,S,B,D,z,A,R,F,T,j,E,O;const{data:e,processing:n,reload:V,onFilterChange:X,onPageChange:w,onPageSizeChange:G,onOrderByChange:J,get:a}=$(H,["orders"]),K=t=>{t.preventDefault(),a(i.orders.add.link)},s=t=>o=>{o.preventDefault(),a(t)},Q=[{field:"id",title:"ID",type:"text",sortable:!0,filter:{name:"id",label:"ID",type:"number",value:(p=e==null?void 0:e.filter)==null?void 0:p.id,inputProps:{min:1}}},{field:"bion_id",title:"Bion ID",type:"text",sortable:!0,filter:{name:"bion_id",label:"Bion ID",type:"text",value:(m=e==null?void 0:e.filter)==null?void 0:m.bion_id}},{field:"test_method",title:"Analysis requested",type:"text",sortable:!0,render:t=>t.test_method.map(o=>o.name).join(", ")},{field:"status",title:"Status",type:"text",sortable:!0,filter:{name:"status",label:"Status",type:"select",options:[{value:"sent",label:"Sent"},{value:"received",label:"Received"},{value:"requested",label:"Requested"}],value:(f=e==null?void 0:e.filter)==null?void 0:f.status}},{field:"created_at",title:"Created At",type:"text",sortable:!0,render:t=>new Date(t.created_at).toLocaleString(),filter:[{name:"created_at.from",label:"From",type:"date",value:(u=(d=e==null?void 0:e.filter)==null?void 0:d.created_at)==null?void 0:u.from,inputProps:{max:(_=(c=e==null?void 0:e.filter)==null?void 0:c.created_at)==null?void 0:_.to}},{name:"created_at.to",label:"To",type:"date",value:(h=(b=e==null?void 0:e.filter)==null?void 0:b.created_at)==null?void 0:h.to,inputProps:{min:(g=(y=e==null?void 0:e.filter)==null?void 0:y.created_at)==null?void 0:g.from}}]},{field:"patient_full_name",title:"Patient Name",type:"text",sortable:!0,filter:{name:"patient_full_name",label:"Patient Name",type:"text",value:(v=e==null?void 0:e.filter)==null?void 0:v.patient_full_name}},{field:"patient_date_of_birth",title:"Patient DOB",type:"string",sortable:!0,filter:[{name:"patient_date_of_birth.from",label:"From",type:"date",value:(P=(x=e==null?void 0:e.filter)==null?void 0:x.patient_date_of_birth)==null?void 0:P.from,inputProps:{max:(I=(C=e==null?void 0:e.filter)==null?void 0:C.patient_date_of_birth)==null?void 0:I.to}},{name:"patient_date_of_birth.to",label:"To",type:"date",value:(S=(k=e==null?void 0:e.filter)==null?void 0:k.patient_date_of_birth)==null?void 0:S.to,inputProps:{min:(D=(B=e==null?void 0:e.filter)==null?void 0:B.patient_date_of_birth)==null?void 0:D.from}}]},{field:"sent_at",title:"Sent At",type:"text",sortable:!0,filter:[{name:"sent_at.from",label:"From",type:"date",value:(A=(z=e==null?void 0:e.filter)==null?void 0:z.sent_at)==null?void 0:A.from,inputProps:{max:(F=(R=e==null?void 0:e.filter)==null?void 0:R.sent_at)==null?void 0:F.to}},{name:"sent_at.to",label:"To",type:"date",value:(j=(T=e==null?void 0:e.filter)==null?void 0:T.sent_at)==null?void 0:j.to,inputProps:{min:(O=(E=e==null?void 0:e.filter)==null?void 0:E.sent_at)==null?void 0:O.from}}]},{field:"id",title:"#",type:"actions",render:t=>r(re,{direction:"row",spacing:1,children:t.status!=="pending"?r(q,{href:i.orders.show.link(t.id),color:"success",onClick:s(i.orders.show.link(t.id)),children:r(me,{})}):r(q,{href:i.orders.edit.link(t.id,t.step),color:"warning",onClick:s(i.orders.edit.link(t.id,t.step)),children:r(oe,{})})})}],U=t=>{t.preventDefault(),V()};return W(te,{user:L.user,header:"Orders",children:[l&&r(le,{children:l}),r(Z,{title:"Orders",actions:r(ne,{variant:"contained",onClick:K,href:i.orders.add.link,color:"success",startIcon:r(Y,{}),children:"Add"})}),r(ae,{sx:{mt:"3em",p:"1rem",overflowX:"auto"},children:r(ee,{columns:Q,data:M,onPageChange:w,pagination:N,onFilterChange:X,onFilter:U,filter:!0,onOrderByChange:J,loading:n,tableModel:{orderBy:(e==null?void 0:e.orderBy)??{field:"id",type:"asc"},page:(e==null?void 0:e.page)??1,filter:e==null?void 0:e.filter},pageSize:{defaultValue:(e==null?void 0:e.pageSize)??10,onChange:G}})}),r(se,{open:n,sx:{zIndex:t=>t.zIndex.modal+10},children:r(pe,{})})]})};export{Ze as default};
