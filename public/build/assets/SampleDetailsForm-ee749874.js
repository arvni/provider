import{j as e,a as h}from"./app-89f793d1.js";import{B as s}from"./Box-aee122b3.js";import{G as i}from"./Grid-d9537aa5.js";import{T as g}from"./Typography-aa107a64.js";import{A as x}from"./Alert-fb83a693.js";import{T as f}from"./TextField-d8dbd712.js";import{M as I}from"./MenuItem-f076ade0.js";import{I as w}from"./IconButton-d32145eb.js";import{D as A}from"./Delete-a4db7e61.js";import{S}from"./Stack-b7fc3304.js";import{b as p}from"./Button-ed715502.js";import"./Modal-2f4db1df.js";import"./OutlinedInput-5989b9e1.js";import"./ButtonBase-da1341a5.js";import"./Close-d46d9bbf.js";import"./useControlled-9a9c2b20.js";import"./dividerClasses-2c6d5095.js";import"./listItemTextClasses-0a7ca23c.js";const L=({samples:l,onChange:m,onSubmit:v,sampleTypes:c,errors:d})=>{const u=t=>r=>{let n=[...l];n[t]?n[t]={...l[t],[r.target.name]:r.target.name==="sample_type"?c.find(a=>a.id+""==r.target.value):r.target.value}:n[t]={[r.target.name]:r.target.name==="sample_type"?c.find(a=>a.id+""==r.target.value):r.target.value},m("samples",n)},D=()=>{let t=[...l];t.push({}),m("samples",t)},b=t=>()=>{let r=[...l];r.splice(t,1),m("samples",r)};return e(s,{component:"form",onSubmit:t=>{t.stopPropagation(),t.preventDefault(),v()},children:h(i,{container:!0,children:[h(i,{item:!0,xs:12,children:[e(g,{fontWeight:"900",fontSize:"larger",sx:{my:4},children:"Diagnostics Analysis"}),e(g,{fontWeight:"900",sx:{my:1},children:"Document material details"}),d.samples&&e(x,{severity:"error",children:d.samples}),l.map((t,r)=>{var n,a;return e(s,{sx:{width:"100%",background:"#c0c0c0",padding:2,mb:2},children:h(i,{container:!0,spacing:2,children:[e(i,{item:!0,xs:12,md:3,children:e(f,{select:!0,fullWidth:!0,onChange:u(r),name:"sample_type",value:(n=t==null?void 0:t.sample_type)==null?void 0:n.id,label:"Sample Type",required:!0,children:c==null?void 0:c.map(o=>e(I,{value:o.id,children:o==null?void 0:o.name},o==null?void 0:o.id))})}),e(i,{item:!0,xs:12,md:3,children:e(f,{fullWidth:!0,onChange:u(r),value:t==null?void 0:t.sampleId,name:"sampleId",label:"Sample ID",required:(a=t==null?void 0:t.sample_type)==null?void 0:a.sampleIdRequired})}),e(i,{item:!0,xs:12,md:4,children:e(f,{fullWidth:!0,onChange:u(r),type:"date",name:"collectionDate",inputProps:{style:{textAlign:"right"}},error:d.hasOwnProperty("samples."+r+".collectionDate"),helperText:d.hasOwnProperty("samples."+r+".collectionDate")?d["samples."+r+".collectionDate"]:"",value:t==null?void 0:t.collectionDate,label:"Collection Date",required:!0})}),e(i,{item:!0,xs:12,md:2,children:e(w,{color:"error",onClick:b(r),children:e(A,{})})})]})},r)})]}),e(i,{item:!0,xs:12,mt:2,children:e(S,{alignItems:"flex-end",children:e(p,{variant:"contained",onClick:D,children:"Add Sample Material"})})}),e(i,{item:!0,xs:12,mt:2,children:e(S,{alignItems:"flex-end",children:e(p,{variant:"contained",type:"submit",children:"Save & continue"})})})]})})};export{L as default};
